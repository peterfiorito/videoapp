{"map":"{\"version\":3,\"sources\":[\"/Users/pedrofiorito/Documents/xite/video-player-app/src/modules/counter.js\",\"/Users/pedrofiorito/Documents/xite/video-player-app/src/modules/index.js\",\"/Users/pedrofiorito/Documents/xite/video-player-app/src/store.js\",\"/Users/pedrofiorito/Documents/xite/video-player-app/src/containers/allVideos/index.js\",\"/Users/pedrofiorito/Documents/xite/video-player-app/src/containers/home/index.js\",\"/Users/pedrofiorito/Documents/xite/video-player-app/src/containers/app/index.js\",\"/Users/pedrofiorito/Documents/xite/video-player-app/src/index.js\"],\"names\":[\"initialState\",\"hasError\",\"combineReducers\",\"counter\",\"state\",\"arguments\",\"length\",\"undefined\",\"type\",\"Object\",\"objectSpread\",\"history\",\"createHistory\",\"middleware\",\"thunk\",\"routerMiddleware\",\"composedEnhancers\",\"compose\",\"apply\",\"applyMiddleware\",\"concat\",\"createStore\",\"connectRouter\",\"rootReducer\",\"AllVideos\",\"payload\",\"this\",\"props\",\"vidchange\",\"_this\",\"videoList\",\"videos\",\"map\",\"video\",\"react_default\",\"a\",\"createElement\",\"className\",\"key\",\"id\",\"name\",\"onClick\",\"changeVid\",\"bind\",\"url\",\"React\",\"Component\",\"Home\",\"classCallCheck\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"call\",\"route\",\"videoHistory\",\"videoName\",\"artistName\",\"lastRoute\",\"ended\",\"updateVidData\",\"assertThisInitialized\",\"temp\",\"slice\",\"avoidDuplicateVideoName\",\"setState\",\"push\",\"array\",\"error\",\"x\",\"indexOf\",\"event\",\"update\",\"target\",\"value\",\"defineProperty\",\"player\",\"continousPlaying\",\"len\",\"copyPlaylist\",\"nextVid\",\"tracker\",\"refs\",\"play\",\"subscribeToStateChange\",\"handleStateChange\",\"_this2\",\"htmlFor\",\"onChange\",\"addVideo\",\"video_react_lib\",\"ref\",\"playsInline\",\"autoPlay\",\"src\",\"position\",\"allVideos\",\"updateFromPlaylist\",\"App\",\"Route\",\"exact\",\"path\",\"component\",\"document\",\"querySelector\",\"render\",\"es\",\"store\",\"lib\",\"app\"],\"mappings\":\"2MAGMA,EAAe,CACnBC,UAAU,GCDGC,EAAAA,OAAAA,EAAAA,gBAAAA,CAAgB,CAC7BC,QDGa,WAAkC,IAAjCC,EAAiCC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzBL,EACtB,QAD+CK,UAAAC,OAAA,EAAAD,UAAA,QAAAE,GAChCC,MACb,IATqB,oBAUnB,OAAOC,OAAAC,EAAA,EAAAD,CAAA,GACFL,EADL,CAEEH,UAAU,IAEd,QACE,OAAOG,METAO,EAAUC,GAAAA,GAIjBC,EAAa,CAACC,EAAAA,EAAOC,OAAAA,EAAAA,iBAAAA,CAAiBJ,IAUtCK,EAAoBC,EAAAA,QAAOC,WAAP,EAAA,CACxBC,EAAAA,gBAAeD,WAAf,EAAmBL,IADKO,OAXR,KAgBHC,EAAAA,OAAAA,EAAAA,YAAAA,CACbC,OAAAA,EAAAA,cAAAA,CAAcX,EAAdW,CAAuBC,GAlBJ,GAoBnBP,oECFaQ,oLAvBHC,GACRC,KAAKC,MAAMC,UAAUH,oCAEf,IAAAI,EAAAH,KACJI,EAAYJ,KAAKC,MAAMI,OAAOC,IAAI,SAACC,GACrC,OAAOC,EAAAC,EAAAC,cAAA,KAAA,CAAIC,UAAU,mBAAmBC,IAAKL,EAAMM,IAC1CN,EAAMM,GADR,KACcN,EAAMO,KACrBN,EAAAC,EAAAC,cAAA,SAAA,CACEC,UAAU,qBACVI,QAASZ,EAAKa,UAAUC,KAAKd,EAAKI,EAAMW,MACxCV,EAAAC,EAAAC,cAAA,OAAA,CAAMC,UAAU,4BAAhB,OAEEH,EAAAC,EAAAC,cAAA,KAAA,CAAIC,UAAU,qBAK1B,OAAQH,EAAAC,EAAAC,cAAA,MAAA,KACNF,EAAAC,EAAAC,cAAA,KAAA,KAAA,YACAF,EAAAC,EAAAC,cAAA,KAAA,CAAIC,UAAU,cAAcP,WApBRe,EAAAA,EAAMC,mBCqJfC,cAlJb,SAAAA,EAAYpB,GAAM,IAAAE,EAAA,OAAApB,OAAAuC,EAAA,EAAAvC,CAAAiB,KAAAqB,IAChBlB,EAAApB,OAAAwC,EAAA,EAAAxC,CAAAiB,KAAAjB,OAAAyC,EAAA,EAAAzC,CAAAsC,GAAAI,KAAAzB,KAAMC,KACDvB,MAAQ,CACXgD,MAAO,GACPC,aAAc,GACdC,UAAW,GACXC,WAAY,GACZC,UAAW,GACXC,OAAO,EACPxD,UAAU,GAEZ4B,EAAK6B,cAAgB7B,EAAK6B,cAAcf,KAAnBlC,OAAAkD,EAAA,EAAAlD,CAAAA,OAAAkD,EAAA,EAAAlD,CAAAoB,KAXLA,0EAehB,IAAI+B,EAAOlC,KAAKtB,MAAMiD,aAAaQ,QAEvBnC,KAAKoC,wBAAwBF,GAGvClC,KAAKqC,SAAS,WAAA,MAAM,CAClB9D,UAAU,MAKdyB,KAAKqC,SAAS,WAAA,MAAM,CAAE9D,UAAU,KAChC2D,EAAKI,KAAK,CAACzB,GAAIb,KAAKtB,MAAMkD,UAAWd,KAAMd,KAAKtB,MAAMmD,WAAYX,IAAKlB,KAAKtB,MAAMoD,YAElF9B,KAAKqC,SAAS,WAAA,MAAM,CAClBV,aAAcO,EACdL,WAAY,GACZD,UAAW,GACXE,UAAU,uDAGUS,GACtB,IAEIC,EAIJ,OAHgB,IAHLD,EAAMjC,IAAI,SAACmC,GAAK,OAAOA,EAAE5B,KACjB6B,QAAQ1C,KAAKtB,MAAMkD,aAGpCY,GAAQ,GAEHA,wCAEKG,GACZ,IAAIC,EAASD,EAAME,OAAOC,MACtBhC,EAAO6B,EAAME,OAAO/B,KACZ,UAATA,GACDd,KAAKqC,SAAS,WAAA,MAAK,CACjBP,UAAWc,KAEf5C,KAAKqC,SAAS,WAAA,OAAAtD,OAAAgE,EAAA,EAAAhE,CAAA,GACX+B,EAAO8B,gDAGOrC,GACjBP,KAAKqC,SAAS,WAAA,MAAK,CACjBX,MAAOnB,+CAGO7B,GAChBsB,KAAKqC,SAAS,CAACW,OAAQtE,EAAOqD,MAAOrD,EAAMqD,QACxC/B,KAAKtB,MAAMqD,OACZ/B,KAAKiD,yDAIP,GAAGjD,KAAKtB,MAAMiD,aAAa/C,OAAS,EAClC,OAAOoB,KAAKtB,MAAMgD,MAEpB,IAAIwB,EAAMlD,KAAKtB,MAAMiD,aAAa/C,OAAS,EAC3C,OAAOoB,KAAKtB,MAAMiD,aAAauB,GAAKhC,+CAGpC,IAAIiC,EAAenD,KAAKtB,MAAMiD,aAAaQ,QAC3C,KAAGgB,EAAavE,OAAS,GAAzB,CAGA,IAEIwE,EADAC,EADOF,EAAa7C,IAAI,SAACmC,GAAK,OAAOA,EAAEvB,MACxBwB,QAAQ1C,KAAKtB,MAAMgD,OAEA0B,EAArCC,EAAU,EAAKF,EAAavE,OAAmByE,EAAU,EAAc,EACxErD,KAAKqC,SAAS,CAACX,MAAOyB,EAAaC,GAASlC,IAAKa,OAAO,IACxD/B,KAAKsD,KAAKN,OAAOO,oDAIjBvD,KAAKsD,KAAKN,OAAOQ,uBAAuBxD,KAAKyD,kBAAkBxC,KAAKjB,wCAE9D,IAAA0D,EAAA1D,KACR,OAAQQ,EAAAC,EAAAC,cAAA,MAAA,KAENF,EAAAC,EAAAC,cAAA,MAAA,CAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,KAAA,CAAIC,UAAU,aAAd,+BACAH,EAAAC,EAAAC,cAAA,MAAA,CAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAAA,MAAA,CAAKC,UAAU,qBACbH,EAAAC,EAAAC,cAAA,QAAA,CAAOC,UAAU,mBAAmBgD,QAAQ,SAA5C,cACAnD,EAAAC,EAAAC,cAAA,QAAA,CAAO5B,KAAK,MAAMgC,KAAK,QAAQgC,MAAO9C,KAAKtB,MAAMoD,UAAW8B,SAAU5D,KAAKgC,cAAcf,KAAKjB,SAEhGQ,EAAAC,EAAAC,cAAA,MAAA,CAAKC,UAAU,qBACbH,EAAAC,EAAAC,cAAA,QAAA,CAAOC,UAAU,mBAAmBgD,QAAQ,cAA5C,eACAnD,EAAAC,EAAAC,cAAA,QAAA,CACE5B,KAAK,OACL+B,GAAG,aACHC,KAAK,aACLgC,MAAO9C,KAAKtB,MAAMmD,WAClB+B,SAAU5D,KAAKgC,cAAcf,KAAKjB,SAEtCQ,EAAAC,EAAAC,cAAA,MAAA,CAAKC,UAAU,qBACbH,EAAAC,EAAAC,cAAA,QAAA,CAAOC,UAAU,mBAAmBgD,QAAQ,aAA5C,cACAnD,EAAAC,EAAAC,cAAA,QAAA,CACE5B,KAAK,OACLgC,KAAK,YACLD,GAAG,YACHiC,MAAO9C,KAAKtB,MAAMkD,UAClBjB,UAAWX,KAAKtB,MAAMH,SAAW,cAAgB,KACjDqF,SAAU5D,KAAKgC,cAAcf,KAAKjB,QACnCA,KAAKtB,MAAMH,UAAYiC,EAAAC,EAAAC,cAAA,OAAA,CAAMC,UAAU,SAAhB,2BAE1BH,EAAAC,EAAAC,cAAA,SAAA,CACEC,UAAU,UACVI,QAAS,WAAO2C,EAAKG,aACrBrD,EAAAC,EAAAC,cAAA,OAAA,KAAA,iBAKNF,EAAAC,EAAAC,cAAA,MAAA,CAAKC,UAAU,WACbH,EAAAC,EAAAC,cAAA,MAAA,CAAKC,UAAU,UACbH,EAAAC,EAAAC,cAACoD,EAAA,OAAD,CACEC,IAAI,SACJC,aAAW,EACXC,UAAQ,EACRC,IAAKlE,KAAKtB,MAAMgD,OAChBlB,EAAAC,EAAAC,cAACoD,EAAA,cAAD,CAAeK,SAAS,aAG5B3D,EAAAC,EAAAC,cAAA,MAAA,CAAKC,UAAU,YACbH,EAAAC,EAAAC,cAAC0D,EAAD,CAAW/D,OAAQL,KAAKtB,MAAMiD,aAAczB,UAAaF,KAAKqE,mBAAmBpD,KAAKjB,kBA5I3EmB,EAAAA,EAAMC,WCQVkD,EARH,WAAA,OACV9D,EAAAC,EAAAC,cAAA,MAAA,KACEF,EAAAC,EAAAC,cAAA,OAAA,KACEF,EAAAC,EAAAC,cAAC6D,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWrD,OCIjCwB,wBAAS8B,SAASC,cAAc,UAEtCC,OAAAA,EAAAA,OAAAA,CACErE,EAAAC,EAAAC,cAACoE,EAAA,SAAD,CAAUC,MAAOA,GACfvE,EAAAC,EAAAC,cAACsE,EAAA,gBAAD,CAAiB/F,QAASA,GACxBuB,EAAAC,EAAAC,cAAA,MAAA,KACEF,EAAAC,EAAAC,cAACuE,EAAD,SAINpC\",\"sourcesContent\":[\"export const HAS_ERROR = 'counter/HAS_ERROR'\\nexport const HAS_ERROR_SET = 'counter/HAS_ERROR_SET'\\n\\nconst initialState = {\\n  hasError: false,\\n}\\n\\nexport default (state = initialState, action) => {\\n  switch (action.type) {\\n    case HAS_ERROR:\\n      return {\\n        ...state,\\n        hasError: true\\n      }\\n    default:\\n      return state\\n  }\\n}\\n\\nexport const hasError = () => {\\n  return dispatch => {\\n    dispatch({\\n      type: HAS_ERROR_SET\\n    })\\n\\n    dispatch({\\n      type: HAS_ERROR\\n    })\\n  }\\n}\",\"import { combineReducers } from 'redux'\\nimport counter from './counter'\\n\\nexport default combineReducers({\\n  counter\\n})\\n\",\"import { createStore, applyMiddleware, compose } from 'redux'\\nimport { connectRouter, routerMiddleware } from 'connected-react-router'\\nimport thunk from 'redux-thunk'\\nimport createHistory from 'history/createBrowserHistory'\\nimport rootReducer from './modules'\\n\\nexport const history = createHistory()\\n\\nconst initialState = {}\\nconst enhancers = []\\nconst middleware = [thunk, routerMiddleware(history)]\\n\\nif (process.env.NODE_ENV === 'development') {\\n  const devToolsExtension = window.__REDUX_DEVTOOLS_EXTENSION__\\n\\n  if (typeof devToolsExtension === 'function') {\\n    enhancers.push(devToolsExtension())\\n  }\\n}\\n\\nconst composedEnhancers = compose(\\n  applyMiddleware(...middleware),\\n  ...enhancers\\n)\\n\\nexport default createStore(\\n  connectRouter(history)(rootReducer),\\n  initialState,\\n  composedEnhancers\\n)\\n\",\"import React from 'react'\\n\\nclass AllVideos extends React.Component {\\n  changeVid(payload){\\n    this.props.vidchange(payload)\\n  }\\n  render(){\\n  let videoList = this.props.videos.map((video)=>{\\n    return <li className=\\\"video-list__item\\\" key={video.id}> \\n            {video.id}, {video.name}\\n          <button\\n            className=\\\"video-list__button\\\"\\n            onClick={this.changeVid.bind(this,video.url)}>\\n            <span className=\\\"video-list__button--text\\\">\\n              Play\\n              <em className=\\\"fas fa-play\\\"/>\\n            </span>\\n          </button>\\n          </li>\\n  })\\n  return (<div>\\n    <h4>Playlist</h4>\\n    <ul className=\\\"video-list\\\">{videoList}</ul>\\n  </div>)\\n  }\\n}\\nexport default AllVideos\\n\",\"import React from 'react'\\nimport AllVideos from '../allVideos'\\nimport { Player, BigPlayButton } from 'video-react';\\n\\nclass Home extends React.Component {\\n  constructor(props){\\n    super(props)\\n    this.state = {\\n      route: '',\\n      videoHistory: [],\\n      videoName: '',\\n      artistName: '',\\n      lastRoute: '',\\n      ended: false,\\n      hasError: false\\n    }\\n    this.updateVidData = this.updateVidData.bind(this);\\n  }\\n  addVideo() {\\n    // replace state with full new object\\n    let temp = this.state.videoHistory.slice()\\n    // quick checkup, avoid dups on videoname, as id is used for tracking\\n    let check = this.avoidDuplicateVideoName(temp)\\n    // if check comes positive, debounce and avoid saving video to list\\n    if (check) {\\n      this.setState(() =>({\\n        hasError: true\\n      }))\\n      return\\n    }\\n    // if name is not duplicated, continue with pushing video to the playlist\\n    this.setState(() =>({ hasError: false }))\\n    temp.push({id: this.state.videoName, name: this.state.artistName, url: this.state.lastRoute})\\n    // And reset state to empty\\n    this.setState(() =>({\\n      videoHistory: temp,\\n      artistName: '',\\n      videoName: '',\\n      lastRoute:''\\n    }))\\n  }\\n  avoidDuplicateVideoName(array) {\\n    let copy = array.map((x)=>{return x.id})\\n    let checkId = copy.indexOf(this.state.videoName)\\n    let error\\n    if(checkId !== -1){\\n      error = true\\n    }\\n    return error\\n  }\\n  updateVidData(event){\\n    let update = event.target.value\\n    let name = event.target.name;\\n    if(name === 'route'){\\n      this.setState(()=>({\\n        lastRoute: update\\n      }))}\\n    this.setState(()=>({\\n      [name]: update\\n    }))\\n  }\\n  updateFromPlaylist(video) {\\n    this.setState(()=>({\\n      route: video\\n    }))\\n  }\\n  handleStateChange(state) {\\n    this.setState({player: state, ended: state.ended})\\n    if(this.state.ended){\\n      this.continousPlaying()\\n    }\\n  }\\n  computeUrls(){\\n    if(this.state.videoHistory.length < 1){\\n      return this.state.route\\n    }\\n    let len = this.state.videoHistory.length - 1\\n    return this.state.videoHistory[len].url\\n  }\\n  continousPlaying() {\\n    let copyPlaylist = this.state.videoHistory.slice()\\n    if(copyPlaylist.length < 2){\\n      return\\n    }\\n    let urls = copyPlaylist.map((x)=>{return x.url})\\n    let tracker = urls.indexOf(this.state.route)\\n    let nextVid\\n    (tracker + 1) < copyPlaylist.length ? nextVid = tracker + 1 : nextVid = 0\\n    this.setState({route: copyPlaylist[nextVid].url, ended: false})\\n    this.refs.player.play()\\n  }\\n  componentDidMount() {\\n    // suscribe to player state changes\\n    this.refs.player.subscribeToStateChange(this.handleStateChange.bind(this))\\n  }\\n  render(){\\n  return (<div>\\n    {/* Add your video inputs */}\\n    <div className=\\\"add-video\\\">\\n      <h1 className=\\\"app-title\\\">Add videos to your playlist</h1>\\n      <div className=\\\"add-video__row\\\">\\n        <div className=\\\"add-video__column\\\">\\n          <label className=\\\"add-video__label\\\" htmlFor=\\\"route\\\">Video file</label>\\n          <input type=\\\"url\\\" name=\\\"route\\\" value={this.state.lastRoute} onChange={this.updateVidData.bind(this)}/>\\n        </div>\\n        <div className=\\\"add-video__column\\\">\\n          <label className=\\\"add-video__label\\\" htmlFor=\\\"artistname\\\">Artist name</label>\\n          <input\\n            type=\\\"text\\\" \\n            id=\\\"artistname\\\" \\n            name=\\\"artistName\\\" \\n            value={this.state.artistName} \\n            onChange={this.updateVidData.bind(this)}/>\\n        </div>\\n        <div className=\\\"add-video__column\\\">\\n          <label className=\\\"add-video__label\\\" htmlFor=\\\"videoname\\\">Video name</label>\\n          <input\\n            type=\\\"text\\\" \\n            name=\\\"videoName\\\" \\n            id=\\\"videoname\\\"\\n            value={this.state.videoName}\\n            className={this.state.hasError ? 'error-field' : null}\\n            onChange={this.updateVidData.bind(this)}/>\\n          {this.state.hasError && <span className=\\\"error\\\">Avoid duplicate names!</span>}\\n        </div>\\n        <button\\n          className=\\\"add-btn\\\"\\n          onClick={() => {this.addVideo()}}>\\n          <span>Add Video!</span>\\n        </button>\\n      </div>\\n    </div>\\n    {/* Player and playlist block */}\\n    <div className=\\\"wrapper\\\">\\n      <div className=\\\"player\\\">\\n        <Player\\n          ref=\\\"player\\\"\\n          playsInline\\n          autoPlay\\n          src={this.state.route}>\\n          <BigPlayButton position=\\\"center\\\" />\\n        </Player>\\n      </div>\\n      <div className=\\\"playlist\\\">\\n        <AllVideos videos={this.state.videoHistory} vidchange = {this.updateFromPlaylist.bind(this)}/>\\n      </div>\\n    </div>\\n    {/* Player and playlist end block */}\\n  </div>)\\n  }\\n}\\nexport default Home\\n\",\"import React from 'react'\\nimport { Route } from 'react-router-dom'\\nimport Home from '../home'\\n\\nconst App = () => (\\n  <div>\\n    <main>\\n      <Route exact path=\\\"/\\\" component={Home} />\\n    </main>\\n  </div>\\n)\\n\\nexport default App\\n\",\"import React from 'react'\\nimport { render } from 'react-dom'\\nimport { Provider } from 'react-redux'\\nimport { ConnectedRouter } from 'connected-react-router'\\nimport store, { history } from './store'\\nimport App from './containers/app'\\n\\nimport 'sanitize.css/sanitize.css'\\nimport './index.css'\\nimport \\\"../node_modules/video-react/dist/video-react.css\\\"\\n\\nconst target = document.querySelector('#root')\\n\\nrender(\\n  <Provider store={store}>\\n    <ConnectedRouter history={history}>\\n      <div>\\n        <App />\\n      </div>\\n    </ConnectedRouter>\\n  </Provider>,\\n  target\\n)\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){},107:function(e,t,a){\"use strict\";a.r(t);var n=a(0),i=a.n(n),r=a(12),s=a(30),l=a(13),o=a(8),c=a(64),d=a(65),u=a.n(d),m=a(66),h={hasError:!1},v=Object(o.combineReducers)({counter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;switch((arguments.length>1?arguments[1]:void 0).type){case\"counter/HAS_ERROR\":return Object(m.a)({},e,{hasError:!0});default:return e}}}),p=u()(),y=[c.a,Object(l.routerMiddleware)(p)],E=o.compose.apply(void 0,[o.applyMiddleware.apply(void 0,y)].concat([])),b=Object(o.createStore)(Object(l.connectRouter)(p)(v),{},E),f=a(109),N=a(17),O=a(18),g=a(19),_=a(21),j=a(20),k=a(22),V=a(14),S=function(e){function t(){return Object(O.a)(this,t),Object(_.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(g.a)(t,[{key:\"changeVid\",value:function(e){this.props.vidchange(e)}},{key:\"render\",value:function(){var e=this,t=this.props.videos.map(function(t){return i.a.createElement(\"li\",{className:\"video-list__item\",key:t.id},t.id,\", \",t.name,i.a.createElement(\"button\",{className:\"video-list__button\",onClick:e.changeVid.bind(e,t.url)},i.a.createElement(\"span\",{className:\"video-list__button--text\"},\"Play\",i.a.createElement(\"em\",{className:\"fas fa-play\"}))))});return i.a.createElement(\"div\",null,i.a.createElement(\"h4\",null,\"Playlist\"),i.a.createElement(\"ul\",{className:\"video-list\"},t))}}]),t}(i.a.Component),w=a(32),C=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(_.a)(this,Object(j.a)(t).call(this,e))).state={route:\"\",videoHistory:[],videoName:\"\",artistName:\"\",lastRoute:\"\",ended:!1,hasError:!1},a.updateVidData=a.updateVidData.bind(Object(V.a)(Object(V.a)(a))),a}return Object(k.a)(t,e),Object(g.a)(t,[{key:\"addVideo\",value:function(){var e=this.state.videoHistory.slice();this.avoidDuplicateVideoName(e)?this.setState(function(){return{hasError:!0}}):(this.setState(function(){return{hasError:!1}}),e.push({id:this.state.videoName,name:this.state.artistName,url:this.state.lastRoute}),this.setState(function(){return{videoHistory:e,artistName:\"\",videoName:\"\",lastRoute:\"\"}}))}},{key:\"avoidDuplicateVideoName\",value:function(e){var t;return-1!==e.map(function(e){return e.id}).indexOf(this.state.videoName)&&(t=!0),t}},{key:\"updateVidData\",value:function(e){var t=e.target.value,a=e.target.name;\"route\"===a&&this.setState(function(){return{lastRoute:t}}),this.setState(function(){return Object(N.a)({},a,t)})}},{key:\"updateFromPlaylist\",value:function(e){this.setState(function(){return{route:e}})}},{key:\"handleStateChange\",value:function(e){this.setState({player:e,ended:e.ended}),this.state.ended&&this.continousPlaying()}},{key:\"computeUrls\",value:function(){if(this.state.videoHistory.length<1)return this.state.route;var e=this.state.videoHistory.length-1;return this.state.videoHistory[e].url}},{key:\"continousPlaying\",value:function(){var e=this.state.videoHistory.slice();if(!(e.length<2)){var t,a=e.map(function(e){return e.url}).indexOf(this.state.route);t=a+1<e.length?a+1:0,this.setState({route:e[t].url,ended:!1}),this.refs.player.play()}}},{key:\"componentDidMount\",value:function(){this.refs.player.subscribeToStateChange(this.handleStateChange.bind(this))}},{key:\"render\",value:function(){var e=this;return i.a.createElement(\"div\",null,i.a.createElement(\"div\",{className:\"add-video\"},i.a.createElement(\"h1\",{className:\"app-title\"},\"Add videos to your playlist\"),i.a.createElement(\"div\",{className:\"add-video__row\"},i.a.createElement(\"div\",{className:\"add-video__column\"},i.a.createElement(\"label\",{className:\"add-video__label\",htmlFor:\"route\"},\"Video file\"),i.a.createElement(\"input\",{type:\"url\",name:\"route\",value:this.state.lastRoute,onChange:this.updateVidData.bind(this)})),i.a.createElement(\"div\",{className:\"add-video__column\"},i.a.createElement(\"label\",{className:\"add-video__label\",htmlFor:\"artistname\"},\"Artist name\"),i.a.createElement(\"input\",{type:\"text\",id:\"artistname\",name:\"artistName\",value:this.state.artistName,onChange:this.updateVidData.bind(this)})),i.a.createElement(\"div\",{className:\"add-video__column\"},i.a.createElement(\"label\",{className:\"add-video__label\",htmlFor:\"videoname\"},\"Video name\"),i.a.createElement(\"input\",{type:\"text\",name:\"videoName\",id:\"videoname\",value:this.state.videoName,className:this.state.hasError?\"error-field\":null,onChange:this.updateVidData.bind(this)}),this.state.hasError&&i.a.createElement(\"span\",{className:\"error\"},\"Avoid duplicate names!\")),i.a.createElement(\"button\",{className:\"add-btn\",onClick:function(){e.addVideo()}},i.a.createElement(\"span\",null,\"Add Video!\")))),i.a.createElement(\"div\",{className:\"wrapper\"},i.a.createElement(\"div\",{className:\"player\"},i.a.createElement(w.Player,{ref:\"player\",playsInline:!0,autoPlay:!0,src:this.state.route},i.a.createElement(w.BigPlayButton,{position:\"center\"}))),i.a.createElement(\"div\",{className:\"playlist\"},i.a.createElement(S,{videos:this.state.videoHistory,vidchange:this.updateFromPlaylist.bind(this)}))))}}]),t}(i.a.Component),R=function(){return i.a.createElement(\"div\",null,i.a.createElement(\"main\",null,i.a.createElement(f.a,{exact:!0,path:\"/\",component:C})))},P=(a(101),a(103),a(105),document.querySelector(\"#root\"));Object(r.render)(i.a.createElement(s.Provider,{store:b},i.a.createElement(l.ConnectedRouter,{history:p},i.a.createElement(\"div\",null,i.a.createElement(R,null)))),P)},67:function(e,t,a){e.exports=a(107)}},[[67,2,1]]]);","extractedComments":[]}