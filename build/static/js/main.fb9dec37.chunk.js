(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){},107:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(12),s=a(30),l=a(13),o=a(8),c=a(64),d=a(65),u=a.n(d),m=a(66),h={hasError:!1},v=Object(o.combineReducers)({counter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;switch((arguments.length>1?arguments[1]:void 0).type){case"counter/HAS_ERROR":return Object(m.a)({},e,{hasError:!0});default:return e}}}),p=u()(),y=[c.a,Object(l.routerMiddleware)(p)],E=o.compose.apply(void 0,[o.applyMiddleware.apply(void 0,y)].concat([])),b=Object(o.createStore)(Object(l.connectRouter)(p)(v),{},E),f=a(109),N=a(17),O=a(18),g=a(19),_=a(21),j=a(20),k=a(22),V=a(14),S=function(e){function t(){return Object(O.a)(this,t),Object(_.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(g.a)(t,[{key:"changeVid",value:function(e){this.props.vidchange(e)}},{key:"render",value:function(){var e=this,t=this.props.videos.map(function(t){return i.a.createElement("li",{className:"video-list__item",key:t.id},t.id,", ",t.name,i.a.createElement("button",{className:"video-list__button",onClick:e.changeVid.bind(e,t.url)},i.a.createElement("span",{className:"video-list__button--text"},"Play",i.a.createElement("em",{className:"fas fa-play"}))))});return i.a.createElement("div",null,i.a.createElement("h4",null,"Playlist"),i.a.createElement("ul",{className:"video-list"},t))}}]),t}(i.a.Component),w=a(32),C=function(e){function t(e){var a;return Object(O.a)(this,t),(a=Object(_.a)(this,Object(j.a)(t).call(this,e))).state={route:"",videoHistory:[],videoName:"",artistName:"",lastRoute:"",ended:!1,hasError:!1},a.updateVidData=a.updateVidData.bind(Object(V.a)(Object(V.a)(a))),a}return Object(k.a)(t,e),Object(g.a)(t,[{key:"addVideo",value:function(){var e=this.state.videoHistory.slice();this.avoidDuplicateVideoName(e)?this.setState(function(){return{hasError:!0}}):(this.setState(function(){return{hasError:!1}}),e.push({id:this.state.videoName,name:this.state.artistName,url:this.state.lastRoute}),this.setState(function(){return{videoHistory:e,artistName:"",videoName:"",lastRoute:""}}))}},{key:"avoidDuplicateVideoName",value:function(e){var t;return-1!==e.map(function(e){return e.id}).indexOf(this.state.videoName)&&(t=!0),t}},{key:"updateVidData",value:function(e){var t=e.target.value,a=e.target.name;"route"===a&&this.setState(function(){return{lastRoute:t}}),this.setState(function(){return Object(N.a)({},a,t)})}},{key:"updateFromPlaylist",value:function(e){this.setState(function(){return{route:e}})}},{key:"handleStateChange",value:function(e){this.setState({player:e,ended:e.ended}),this.state.ended&&this.continousPlaying()}},{key:"computeUrls",value:function(){if(this.state.videoHistory.length<1)return this.state.route;var e=this.state.videoHistory.length-1;return this.state.videoHistory[e].url}},{key:"continousPlaying",value:function(){var e=this.state.videoHistory.slice();if(!(e.length<2)){var t,a=e.map(function(e){return e.url}).indexOf(this.state.route);t=a+1<e.length?a+1:0,this.setState({route:e[t].url,ended:!1}),this.refs.player.play()}}},{key:"componentDidMount",value:function(){this.refs.player.subscribeToStateChange(this.handleStateChange.bind(this))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("div",{className:"add-video"},i.a.createElement("h1",{className:"app-title"},"Add videos to your playlist"),i.a.createElement("div",{className:"add-video__row"},i.a.createElement("div",{className:"add-video__column"},i.a.createElement("label",{className:"add-video__label",htmlFor:"route"},"Video file"),i.a.createElement("input",{type:"url",name:"route",value:this.state.lastRoute,onChange:this.updateVidData.bind(this)})),i.a.createElement("div",{className:"add-video__column"},i.a.createElement("label",{className:"add-video__label",htmlFor:"artistname"},"Artist name"),i.a.createElement("input",{type:"text",id:"artistname",name:"artistName",value:this.state.artistName,onChange:this.updateVidData.bind(this)})),i.a.createElement("div",{className:"add-video__column"},i.a.createElement("label",{className:"add-video__label",htmlFor:"videoname"},"Video name"),i.a.createElement("input",{type:"text",name:"videoName",id:"videoname",value:this.state.videoName,className:this.state.hasError?"error-field":null,onChange:this.updateVidData.bind(this)}),this.state.hasError&&i.a.createElement("span",{className:"error"},"Avoid duplicate names!")),i.a.createElement("button",{className:"add-btn",onClick:function(){e.addVideo()}},i.a.createElement("span",null,"Add Video!")))),i.a.createElement("div",{className:"wrapper"},i.a.createElement("div",{className:"player"},i.a.createElement(w.Player,{ref:"player",playsInline:!0,autoPlay:!0,src:this.state.route},i.a.createElement(w.BigPlayButton,{position:"center"}))),i.a.createElement("div",{className:"playlist"},i.a.createElement(S,{videos:this.state.videoHistory,vidchange:this.updateFromPlaylist.bind(this)}))))}}]),t}(i.a.Component),R=function(){return i.a.createElement("div",null,i.a.createElement("main",null,i.a.createElement(f.a,{exact:!0,path:"/",component:C})))},P=(a(101),a(103),a(105),document.querySelector("#root"));Object(r.render)(i.a.createElement(s.Provider,{store:b},i.a.createElement(l.ConnectedRouter,{history:p},i.a.createElement("div",null,i.a.createElement(R,null)))),P)},67:function(e,t,a){e.exports=a(107)}},[[67,2,1]]]);
//# sourceMappingURL=main.fb9dec37.chunk.js.map